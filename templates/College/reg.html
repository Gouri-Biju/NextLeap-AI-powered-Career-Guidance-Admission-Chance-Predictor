{% include 'mainbase.html' %}

<style>
    input.form-control:focus {
        border-color: #3D405B;
        box-shadow: 0 0 0 0.15rem rgba(61, 64, 91, 0.2);
        outline: none;
    }

    input.form-control {
        transition: all 0.2s ease-in-out;
        border: 1px solid #ced4da;
    }

</style>

<section class="hero-section d-flex justify-content-center align-items-center" id="section_1">
    <div class="section-overlay"></div>

    <!-- Top Wave -->
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
        <path fill="#3D405B" fill-opacity="1" d="M0,224L34.3,192C68.6,160,137,96,206,90.7C274.3,85,343,139,411,144C480,149,549,107,617,122.7C685.7,139,754,213,823,240C891.4,267,960,245,1029,224C1097.1,203,1166,181,1234,160C1302.9,139,1371,117,1406,106.7L1440,96L1440,0L0,0Z"></path>
    </svg>

    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-6 col-md-8 col-12">
                <br><br><br><br><br><br>
                <div class="bg-white p-5 rounded shadow-lg">
                    <h2 class="mb-4 text-center text-dark">Add College</h2>
                    <form method="post" enctype="multipart/form-data" onsubmit="return validateCollegeForm()">
                        {% csrf_token %}

                        <div class="mb-3">
                            <label for="name" class="form-label">College Name</label>
                            <input type="text" id="name" name="name" class="form-control" required>
                        </div>

                        <div class="mb-3">
                            <label for="place" class="form-label">Place</label>
                            <input type="text" id="place" name="place" class="form-control" required>
                        </div>

                        <div class="mb-3">
                            <label for="email" class="form-label">Email</label>
                            <input type="email" id="email" name="email" class="form-control" required>
                        </div>

                        <div class="mb-3">
                            <label for="phone" class="form-label">Phone</label>
                            <input type="text" id="phone" name="phone" class="form-control" required>
                        </div>

                        <div class="mb-3">
                            <label for="proof" class="form-label">Upload Proof File</label>
                            <input type="file" id="proof" name="proof" class="form-control" accept=".jpg,.jpeg,.png,.pdf" required>
                        </div>

                        <div class="mb-3">
                            <label for="uname" class="form-label">Username</label>
                            <input type="text" id="uname" name="uname" class="form-control" required>
                             {% if error_message %}
      <small style="color: red;">{{ error_message }}</small>
  {% endif %}
                        </div>

                        <div class="mb-4">
                            <label for="pwd" class="form-label">Password</label>
                            <input type="text" id="pwd" name="pwd" class="form-control" required>
                        </div>

                        <div class="d-grid">
                            <input type="submit" value="Add College" name="submit" class="btn btn-dark">
                        </div>
                        <div class="text-danger mt-3" id="form-error" style="display: none;"></div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Wave -->
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
        <path fill="#ffffff" fill-opacity="1" d="M0,224L34.3,192C68.6,160,137,96,206,90.7C274.3,85,343,139,411,144C480,149,549,107,617,122.7C685.7,139,754,213,823,240C891.4,267,960,245,1029,224C1097.1,203,1166,181,1234,160C1302.9,139,1371,117,1406,106.7L1440,96L1440,320L0,320Z"></path>
    </svg>
</section>

<script>
function validateCollegeForm() {
    const name = document.getElementById("name").value.trim();
    const place = document.getElementById("place").value.trim();
    const phone = document.getElementById("phone").value.trim();
    const uname = document.getElementById("uname").value.trim();
    const pwd = document.getElementById("pwd").value;
    const errorDiv = document.getElementById("form-error");

    const textOnlyRegex = /^[A-Za-z\s]+$/;
    const phoneRegex = /^[0-9]{10}$/;
    const pwdRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_]).{8,}$/;

    if (!textOnlyRegex.test(name)) {
        errorDiv.textContent = "College name must contain only letters.";
        errorDiv.style.display = "block";
        return false;
    }

    if (!textOnlyRegex.test(place)) {
        errorDiv.textContent = "Place must contain only letters.";
        errorDiv.style.display = "block";
        return false;
    }

    if (!phoneRegex.test(phone)) {
        errorDiv.textContent = "Phone number must be exactly 10 digits.";
        errorDiv.style.display = "block";
        return false;
    }


    if (!pwdRegex.test(pwd)) {
        errorDiv.textContent = "Password must include uppercase, lowercase, number, special character and be at least 8 characters.";
        errorDiv.style.display = "block";
        return false;
    }

    errorDiv.style.display = "none";
    return true;
}
</script>

{% include 'mainfooter.html' %}
